<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"><!-- create by autoCode,v1.0.0 --><mapper namespace="front.customizeOrder">	<resultMap id="BaseExtResultMap" type="net.yozo.services.front.customizeOrder.bean.CustomizeOrder" >		<id column="id" property="id" jdbcType="INTEGER" />		<result column="c_type" property="cType" jdbcType="INTEGER" />		<result column="c_use" property="cUse" jdbcType="VARCHAR" />		<result column="price" property="price" jdbcType="DECIMAL" />		<result column="quantity" property="quantity" jdbcType="VARCHAR" />		<result column="etc" property="etc" jdbcType="TIMESTAMP" />		<result column="finish_time" property="finishTime" jdbcType="TIMESTAMP" />		<result column="edit_time" property="editTime" jdbcType="TIMESTAMP" />		<result column="creator" property="creator" jdbcType="INTEGER" />		<result column="created_time" property="createdTime" jdbcType="TIMESTAMP" />		<result column="template" property="template" jdbcType="VARCHAR" />		<result column="delay_times" property="delayTimes" jdbcType="INTEGER" />		<result column="status" property="status" jdbcType="INTEGER" />		<result column="other" property="other" jdbcType="VARCHAR" />		<result column="cTypeName" property="cTypeName" jdbcType="VARCHAR" />		<result column="orderNum" property="orderNum" jdbcType="VARCHAR" />		<result column="customer_contact" property="customerContact" jdbcType="VARCHAR" />		<result column="userId" property="userId" jdbcType="INTEGER" />	</resultMap>	<select id="front.customizeOrder.selectPageList" parameterType="net.yozo.services.front.customizeOrder.bean.CustomizeOrder" resultMap="BaseExtResultMap">	 select * from t_customize_order t 	  limit #{offset},#{pageSize}	</select> 	<select id="front.customizeOrder.selectPageCount" parameterType="net.yozo.services.front.customizeOrder.bean.CustomizeOrder" resultType="java.lang.Integer">	 select count(*) from t_customize_order	</select>	<select id="front.customizeOrder.selectList" parameterType="net.yozo.services.front.customizeOrder.bean.CustomizeOrder" resultMap="BaseExtResultMap">		select *		from t_customize_order t	</select> 	<insert id="front.customizeOrder.insert" parameterType="net.yozo.services.front.customizeOrder.bean.CustomizeOrder" useGeneratedKeys="true" keyProperty="id">		insert into t_customize_order		(		id,created_time		<if test="cType != null" >			,c_type		</if>		<if test="cUse != null" >			,c_use		</if>		<if test="price != null" >			,price		</if>		<if test="quantity != null" >			,quantity		</if>		<if test="etc != null" >			,etc		</if>		<if test="finishTime != null" >			,finish_time		</if>		<if test="editTime != null" >			,edit_time		</if>		<if test="creator != null" >			,creator		</if>		<if test="template != null" >			,template		</if>		<if test="delayTimes != null" >			,delay_times		</if>		<if test="status != null" >			,status		</if>		<if test="other != null" >			,other		</if>		<if test="customerContact != null" >			,customer_contact		</if>		)		values		(		id,now()		<if test="cType != null" >			,#{cType}		</if>		<if test="cUse != null" >			,#{cUse}		</if>		<if test="price != null" >			,#{price}		</if>		<if test="quantity != null" >			,#{quantity}		</if>		<if test="etc != null" >			,#{etc}		</if>		<if test="finishTime != null" >			,#{finishTime}		</if>		<if test="editTime != null" >			,#{editTime}		</if>		<if test="creator != null" >			,#{creator}		</if>		<if test="template != null" >			,#{template}		</if>		<if test="delayTimes != null" >			,#{delayTimes}		</if>		<if test="status != null" >			,#{status}		</if>		<if test="other != null" >			,#{other}		</if>		<if test="customerContact != null" >			,#{customerContact}		</if>	)</insert>		<update id="front.customizeOrder.update" parameterType="net.yozo.services.front.customizeOrder.bean.CustomizeOrder">		update t_customize_order		  set id=#{id}		<if test="cType != null" >			,c_type=#{cType}		</if>		<if test="cUse != null" >			,c_use=#{cUse}		</if>		<if test="price != null" >			,price=#{price}		</if>		<if test="quantity != null" >			,quantity=#{quantity}		</if>		<if test="etc != null" >			,etc=#{etc}		</if>		<if test="finishTime != null" >			,finish_time=#{finishTime}		</if>		<if test="editTime != null" >			,edit_time=#{editTime}		</if>		<if test="creator != null" >			,creator=#{creator}		</if>		<if test="createdTime != null" >			,created_time=#{createdTime}		</if>		<if test="template != null" >			,template=#{template}		</if>		<if test="delayTimes != null" >			,delay_times=#{delayTimes}		</if>		<if test="status != null" >			,status=#{status}		</if>		<if test="other != null" >			,other=#{other}		</if>		<if test="customerContact != null" >			,customer_contact=#{customerContact}		</if>		 where id=#{id}	</update>		<select id="front.customizeOrder.selectOne" parameterType="net.yozo.services.front.customizeOrder.bean.CustomizeOrder" resultMap="BaseExtResultMap">	 select co.*,c.name cTypeName,o.account userId,o.orderNum orderNum,d.id as designerID	 from t_customize_order co	 LEFT JOIN  t_order o on co.id=o.customize_id	 LEFT JOIN t_catalog c on co.c_type=c.id	 LEFT JOIN t_designer d on co.creator = d.account_id	 where co.id=#{id}	</select>	<delete id="front.customizeOrder.deleteById" parameterType="net.yozo.services.front.customizeOrder.bean.CustomizeOrder">		delete from t_customize_order where id=#{id}	</delete>	<delete id="front.customizeOrder.delete" parameterType="net.yozo.services.front.customizeOrder.bean.CustomizeOrder">		delete from t_customize_order where id=#{id}		<if test="creator != null" >			and creator=#{creator}		</if>		<if test="status != null" >			and status=#{status}		</if>	</delete>	<update id="front.customizeOrder.uploadEdit" parameterType="net.yozo.services.front.customizeOrder.bean.CustomizeOrder">		update t_customize_order		set edit_time=now()		<if test="template != null" >			,template=#{template}		</if>		<if test="status != null" >			,status=#{status}		</if>		where id=#{id}	</update>	<select id="front.customizeOrder.designerPageList" parameterType="net.yozo.services.front.customizeOrder.bean.CustomizeOrder" resultMap="BaseExtResultMap">		select c.id,c.c_type,c.created_time,c.etc,c.STATUS,c.customer_contact,o.orderNum,ca.name cTypeName from t_customize_order AS c		left join t_order as o on   o.STATUS="success" and o.customize_id=c.id		left join t_catalog ca on c.c_type=ca.id		WHERE c.creator=#{creator}		ORDER BY c.created_time DESC		limit #{offset},#{pageSize}	</select>	<select id="front.customizeOrder.designerPageCount" parameterType="net.yozo.services.front.customizeOrder.bean.CustomizeOrder" resultType="java.lang.Integer">		select count(id) from t_customize_order		WHERE creator=#{creator}	</select>	<!--<select id="front.customizeOrder.imuserOrders"  resultType="net.yozo.services.front.customizeOrder.bean.CustomizeOrder">		SELECT tco.* , td.qq as designerQQ,td.id as designerID ,too.orderNum as orderNum ,td.nickname as designerNickName FROM t_customize_order  tco ,t_designer td ,t_order too		WHERE tco.creator=td.account_id		AND tco.id=too.customize_id		AND tco.id IN (SELECT o.customize_id FROM t_order o WHERE account=#{id} AND TYPE=1 AND STATUS='success')		limit #{offset},#{pageSize}	</select>-->	<select id="front.customizeOrder.imuserOrders"  resultType="net.yozo.services.front.customizeOrder.bean.CustomizeOrder">		SELECT tco.* , td.qq as designerQQ,td.id as designerID ,too.orderNum as orderNum ,a.nickname as designerNickName,tcc.id as commentID,too.id as orderID		FROM t_customize_order  tco		LEFT JOIN t_designer td on tco.creator=td.account_id		LEFT JOIN  t_order too on tco.id=too.customize_id		LEFT JOIN  t_customize_comment tcc on too.id=tcc.order_id		LEFT JOIN t_account a on a.id=td.account_id		WHERE tco.id IN (SELECT o.customize_id FROM t_order o WHERE account=#{id} AND TYPE=1 AND STATUS='success')		order by tco.created_time desc		limit #{offset},#{pageSize}	</select>	<select id="front.customizeOrder.imuserOrdersCount"  resultType="java.lang.Integer">		SELECT count(*) FROM t_customize_order  WHERE id IN (SELECT o.customize_id FROM t_order o WHERE account=#{id} AND TYPE=1 AND STATUS='success')	</select></mapper>