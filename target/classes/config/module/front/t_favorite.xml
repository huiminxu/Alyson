<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"><!-- create by autoCode,v1.0.0 --><mapper namespace="front.favorite">	<select id="front.favorite.selectPageList" parameterType="net.yozo.services.front.favorite.bean.Favorite" resultType="net.yozo.services.front.favorite.bean.Favorite">	 select * from t_favorite t where EXISTS(SELECT id from t_template where id =productID and status=1)	 <if test="account!=null and account!=''"> and account=#{account} </if>	 order by id desc	 limit #{offset},#{pageSize}	</select> 	<select id="front.favorite.selectPageCount" parameterType="net.yozo.services.front.favorite.bean.Favorite" resultType="java.lang.Integer">	 select count(*) from t_favorite where EXISTS(SELECT id from t_template where id =productID and status=1) <if test="account!=null and account!=''"> and account=#{account} </if>	</select>	<select id="front.favorite.selectList" parameterType="net.yozo.services.front.favorite.bean.Favorite" resultType="net.yozo.services.front.favorite.bean.Favorite">		select *		from t_favorite t where account=#{account}		<if test="productID!=null and productID!=''">		and productID=#{productID}		</if>	</select> 	<insert id="front.favorite.insert" parameterType="net.yozo.services.front.favorite.bean.Favorite" useGeneratedKeys="true" keyProperty="id">		insert into t_favorite		(		id,createtime		<if test="account!=null and account!=''">		,account		</if>		<if test="productID!=null and productID!=''">		,productID		</if>		<if test="topicId!=null and topicId!=''">			,topic_id		</if>		)		values		(		id,now()		<if test="account !=null and account !=''">		,#{account}		</if>		<if test="productID !=null and productID !=''">		,#{productID}		</if>		<if test="topicId !=null and topicId !=''">			,#{topicId}		</if>	)</insert>		<update id="front.favorite.update" parameterType="net.yozo.services.front.favorite.bean.Favorite">		update t_favorite		  set id=#{id}		<if test="account !=null and account !=''">		,account=#{account}		</if>		<if test="productID !=null and productID !=''">		,productID=#{productID}		</if>		 where id=#{id}	</update>		<select id="front.favorite.selectOne" parameterType="net.yozo.services.front.favorite.bean.Favorite" resultType="net.yozo.services.front.favorite.bean.Favorite">	 select 		t.id "id",		t.account "account",		t.productID "productid",		t.createtime "createtime"	 from t_favorite t where 1=1		<if test="id !=null and id !=''">	      and id=#{id}		</if>		<if test="topicId !=null and topicId !=''">			and topic_id=#{topicId}		</if>		<if test="account !=null and account !=''">			and account=#{account}		</if>	</select>		<select id="front.favorite.selectCount" parameterType="net.yozo.services.front.favorite.bean.Favorite" resultType="int">	 select count(*) from t_favorite t where EXISTS(SELECT id from t_template where id =productID and status=1)	 <if test="account!=null and account!=''"> and account=#{account} </if>	</select>		<delete id="front.favorite.deleteById" parameterType="net.yozo.services.front.favorite.bean.Favorite">		delete from t_favorite where id=#{id}	</delete>	<delete id="front.favorite.delete" parameterType="net.yozo.services.front.favorite.bean.Favorite">		delete from t_favorite where  account =#{account}		<if test="productID!=null and productID!=''">and productID=#{productID}</if>		<if test="topicId!=null and topicId!=''">and topic_id=#{topicId}</if>	</delete>	<select id="front.favorite.topic" parameterType="net.yozo.services.front.favorite.bean.Favorite" resultType="net.yozo.services.front.topic.bean.Topic">		 SELECT t.* from t_favorite f LEFT JOIN t_topic t on f.topic_id = t.id  where f.account=#{account} and EXISTS(SELECT id from t_topic where id = topic_id and status=1 and deleted=0)		order by t.id desc		 limit #{offset},#{pageSize}	</select>	<select id="front.favorite.topicCount" parameterType="net.yozo.services.front.favorite.bean.Favorite" resultType="int">		SELECT count(*) from t_favorite where account=#{account} and EXISTS(SELECT id from t_topic where id = topic_id and status =1 and deleted=0 )	</select></mapper>