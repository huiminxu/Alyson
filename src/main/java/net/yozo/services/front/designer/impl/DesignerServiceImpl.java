package net.yozo.services.front.designer.impl;import net.yozo.core.ServersManager;import net.yozo.services.front.designer.DesignerService;import net.yozo.services.front.designer.bean.Designer;import net.yozo.services.front.designer.dao.DesignerDao;import org.springframework.stereotype.Service;import javax.annotation.Resource;import java.util.List;@Service("designerServiceFront")public class DesignerServiceImpl extends ServersManager<Designer, DesignerDao> implements        DesignerService {    @Resource(name = "designerDaoFront")    @Override    public void setDao(DesignerDao designerDao) {        this.dao = designerDao;    }    @Override    public List<Designer> selectIndexDesigner(Designer e) {        return dao.selectIndexDesigner(e);    }    @Override    public Designer vkstest(Designer e) {        return dao.vkstest(e);    }    @Override    public Designer selectByAccountId(Integer accountId){        return dao.selectByAccountId(accountId);    }    @Override    public void setQQstatus(List l){        String qq="";        Designer d=new Designer();        for(int i=0;i<l.size();i++){            d=(Designer)l.get(i);            qq+=d.getQq()+":";        }        String result = "";        String charset = "UTF-8";        String callurl ="http://webpresence.qq.com/getonline?Type=1&";        try {            java.net.URL url = new java.net.URL(callurl + qq);            java.net.URLConnection connection = url.openConnection();            connection.connect();            java.io.BufferedReader reader = new java.io.BufferedReader(                    new java.io.InputStreamReader(connection                            .getInputStream(), charset));            String line;            while ((line = reader.readLine()) != null) {                result += line;                result += "\n";            }            System.out.println(result);            String[] results=result.split(";");            for(int j=0;j<results.length-1;j++){                d=(Designer) l.get(j);                d.setQqStatus(Integer.parseInt(results[j].substring(results[j].length()-1,results[j].length())));            }        } catch (Exception e) {            // e.printStackTrace();            System.out.println(qq+"号码不存在");        }    }    @Override    public int selectCount(Designer e) {        return dao.selectCount(e);    }    @Override    public int updateInfo(Designer e) {        return dao.updateInfo(e);    }}