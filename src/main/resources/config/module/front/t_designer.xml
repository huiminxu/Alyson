<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"><!-- create by autoCode,v1.0.0 --><mapper namespace="front.designer">	<resultMap id="BaseExtResultMap" type="net.yozo.services.front.designer.bean.Designer" >		<id column="id" property="id" jdbcType="VARCHAR" />		<result column="realname" property="realname" jdbcType="VARCHAR" />		<result column="tel" property="tel" jdbcType="VARCHAR" />		<result column="id_number" property="idNumber" jdbcType="VARCHAR" />		<result column="id_pic_front" property="idPicFront" jdbcType="VARCHAR" />		<result column="id_pic_back" property="idPicBack" jdbcType="VARCHAR" />		<result column="nickname" property="nickname" jdbcType="VARCHAR" />		<result column="qq" property="qq" jdbcType="VARCHAR" />		<result column="resume" property="resume" jdbcType="VARCHAR" />		<result column="avater" property="avater" jdbcType="VARCHAR" />		<result column="sample" property="sample" jdbcType="VARCHAR" />		<result column="poa" property="poa" jdbcType="VARCHAR" />		<result column="audit_status" property="auditStatus" jdbcType="INTEGER" />		<result column="audit_opinion" property="auditOpinion" jdbcType="VARCHAR" />		<result column="auditor" property="auditor" jdbcType="INTEGER" />		<result column="account_id" property="accountId" jdbcType="INTEGER" />		<result column="created_time" property="createdTime" jdbcType="TIMESTAMP" />		<result column="is_deleted" property="isDeleted" jdbcType="TINYINT" />		<result column="status" property="status" jdbcType="INTEGER" />		<result column="finish_qty" property="finishQty" jdbcType="INTEGER" />		<result column="unfinish_qty" property="unfinishQty" jdbcType="INTEGER" />		<result column="quality_score" property="qualityScore" jdbcType="DECIMAL" />		<result column="efficiency_score" property="efficiencyScore" jdbcType="DECIMAL" />		<result column="service_score" property="serviceScore" jdbcType="DECIMAL" />		<result column="favorable_rate" property="favorableRate" jdbcType="INTEGER" />	</resultMap>	<select id="front.designer.selectPageList" parameterType="net.yozo.services.front.designer.bean.Designer" resultMap="BaseExtResultMap">	 SELECT d.*,k.finish_qty,k.unfinish_qty,k.favorable_rate,a.avater,a.nickname FROM t_designer d		LEFT JOIN t_designer_kpi k ON d.id=k.designer_id		LEFT JOIN t_designer_recommended r ON d.id=r.designer_id		LEFT JOIN t_account a on d.account_id=a.id		where audit_status=1 and is_deleted!=1		ORDER BY IFNULL(r.sort,100) ASC,IFNULL(k.finish_qty,0) DESC ,IFNULL(k.favorable_rate,100) DESC,d.id ASC		<if test="pageSize != null and pageSize!=0" >			limit #{offset},#{pageSize}		</if>	</select> 	<select id="front.designer.selectPageCount" parameterType="net.yozo.services.front.designer.bean.Designer" resultType="java.lang.Integer">		SELECT count(d.id) FROM t_designer d where audit_status=1 and is_deleted!=1	</select>	<select id="front.designer.selectList" parameterType="net.yozo.services.front.designer.bean.Designer" resultMap="BaseExtResultMap">		select *		from t_designer t	</select> 	<insert id="front.designer.insert" parameterType="net.yozo.services.front.designer.bean.Designer" useGeneratedKeys="true" keyProperty="id">		insert into t_designer		(		id,created_time		<if test="realname != null" >			,realname		</if>		<if test="tel != null" >			,tel		</if>		<if test="idNumber != null" >			,id_number		</if>		<if test="idPicFront != null" >			,id_pic_front		</if>		<if test="idPicBack != null" >			,id_pic_back		</if>		<if test="qq != null" >			,qq		</if>		<if test="resume != null" >			,resume		</if>		<if test="sample != null" >			,sample		</if>		<if test="poa != null" >			,poa		</if>		<if test="auditStatus != null" >			,audit_status		</if>		<if test="auditOpinion != null" >			,audit_opinion		</if>		<if test="auditor != null" >			,auditor		</if>		<if test="accountId != null" >			,account_id		</if>		<if test="isDeleted != null" >			,is_deleted		</if>		<if test="status != null" >			,status		</if>		<if test="auditTime != null" >			,audit_time		</if>		)		values		(		id,now()		<if test="realname != null" >			,#{realname}		</if>		<if test="tel != null" >			,#{tel}		</if>		<if test="idNumber != null" >			,#{idNumber}		</if>		<if test="idPicFront != null" >			,#{idPicFront}		</if>		<if test="idPicBack != null" >			,#{idPicBack}		</if>		<if test="qq != null" >			,#{qq}		</if>		<if test="resume != null" >			,#{resume}		</if>		<if test="sample != null" >			,#{sample}		</if>		<if test="poa != null" >			,#{poa}		</if>		<if test="auditStatus != null" >			,#{auditStatus}		</if>		<if test="auditOpinion != null" >			,#{auditOpinion}		</if>		<if test="auditor != null" >			,#{auditor}		</if>		<if test="accountId != null" >			,#{accountId}		</if>		<if test="isDeleted != null" >			,#{isDeleted}		</if>		<if test="status != null" >			,#{status}		</if>		<if test="auditTime != null" >			,#{auditTime}		</if>	)</insert>		<update id="front.designer.update" parameterType="net.yozo.services.front.designer.bean.Designer">		update t_designer set id=#{id},created_time=now()		<if test="realname != null" >			,realname=#{realname}		</if>		<if test="tel != null" >			,tel=#{tel}		</if>		<if test="idNumber != null" >			,id_number=#{idNumber}		</if>		<if test="idPicFront != null" >			,id_pic_front=#{idPicFront}		</if>		<if test="idPicBack != null" >			,id_pic_back=#{idPicBack}		</if>		<if test="qq != null" >			,qq=#{qq}		</if>		<if test="resume != null" >			,resume=#{resume}		</if>		<if test="sample != null" >			,sample=#{sample}		</if>		<if test="poa != null" >			,poa=#{poa}		</if>		<if test="auditStatus != null" >			,audit_status=#{auditStatus}		</if>		<if test="auditOpinion != null" >			,audit_opinion=#{auditOpinion}		</if>		<if test="auditor != null" >			,auditor=#{auditor}		</if>		<if test="accountId != null" >			,account_id=#{accountId}		</if>		<if test="isDeleted != null" >			,is_deleted=#{isDeleted}		</if>		<if test="status != null" >			,status=#{status}		</if>		<if test="auditTime != null" >			,audit_time=#{auditTime}		</if>		 where id=#{id}	</update>		<select id="front.designer.selectOne" parameterType="net.yozo.services.front.designer.bean.Designer" resultMap="BaseExtResultMap">	 select d.*,a.avater,a.nickname from t_designer d	 LEFT JOIN t_account a ON d.account_id=a.id	 where d.id=#{id}	</select>	<delete id="front.designer.deleteById" parameterType="net.yozo.services.front.designer.bean.Designer">		delete from t_designer where id=#{id}	</delete>	<delete id="front.designer.delete" parameterType="net.yozo.services.front.designer.bean.Designer">		delete from t_designer where 1=1		<if test="accountId!=null">			and account_id=#{accountId}		</if>	</delete>	<!--查询首页推荐的设计师人选-->	<select id="front.designer.selectIndexDesigner" parameterType="net.yozo.services.front.designer.bean.Designer" resultMap="BaseExtResultMap">		SELECT d.*,k.finish_qty,k.unfinish_qty,k.favorable_rate,a.avater,a.nickname FROM t_designer d		LEFT JOIN t_designer_kpi k ON d.id=k.designer_id		LEFT JOIN t_designer_recommended r ON d.id=r.designer_id		LEFT JOIN t_account a on d.account_id=a.id		where audit_status=1 and is_deleted!=1		ORDER BY IFNULL(r.sort,100) ASC,IFNULL(k.finish_qty,0) DESC ,IFNULL(k.favorable_rate,100) DESC,d.id ASC		limit 0,#{top}	</select>	<select id="front.designer.vkstest" parameterType="net.yozo.services.front.designer.bean.Designer" resultType="net.yozo.services.front.designer.bean.Designer">		select *		from t_designer where id=#{id}	</select>	<select id="front.designer.selectByAccountId" parameterType="net.yozo.services.front.designer.bean.Designer" resultType="net.yozo.services.front.designer.bean.Designer">		select d.*,a.avater,a.nickname from t_designer d		LEFT JOIN t_account a on d.account_id=a.id		where d.account_id=#{accountId} and is_deleted!=1	</select>	<select id="front.designer.selectCount" parameterType="net.yozo.services.front.designer.bean.Designer" resultType="int">		select count(t.id) c		from t_designer t where 1=1		<if test="tel != null" >			and tel=#{tel}		</if>		<if test="idNumber != null" >			and id_number=#{idNumber}		</if>		<if test="nickname != null" >			and nickname=#{nickname}		</if>		<if test="qq != null" >			and qq=#{qq}		</if>	</select>	<update id="front.designer.updateInfo" parameterType="net.yozo.services.front.designer.bean.Designer">		update t_designer set id=#{id}		<if test="resume != null" >			,resume=#{resume}		</if>		where id=#{id} and is_deleted!=1	</update></mapper>